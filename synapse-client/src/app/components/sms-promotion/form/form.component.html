<form [ngrxFormState]="formState"
      (submit)="submit()">
  <div class="form-input" >
    <mat-form-field>
      <input matInput
             placeholder="Phone Number"
             [ngrxFormControlState]="formState.controls.phoneNumber">
      <mat-error *ngIf="formState.errors._phoneNumber?.required">
        International mobile phone number required
      </mat-error>
      <mat-error *ngIf="formState.errors._phoneNumber?.notValidMobilePhone">
          Invalid international mobile phone number
      </mat-error>
    </mat-form-field>
  </div>
  <div class="form-input" >
    <div class="form-input-field">
    <mat-checkbox [ngrxFormControlState]="formState.controls.acceptTermsOfUse">Agree to terms of use</mat-checkbox>
    <mat-error *ngIf="formState.errors._acceptTermsOfUse?.required 
                      && (formState.controls.acceptTermsOfUse.isTouched || formState.controls.acceptTermsOfUse.isSubmitted)"

               class="form-input-error">
      You must agree to the terms of use
    </mat-error>
    </div>
  </div>
  <div class="form-input" >
    <div class="form-input-field">
      <mat-checkbox [ngrxFormControlState]="formState.controls.satisfyAgeRestriction">I am over 18 years old</mat-checkbox>
      <mat-error *ngIf="formState.errors._satisfyAgeRestriction?.required 
                        && (formState.controls.satisfyAgeRestriction.isTouched || formState.controls.satisfyAgeRestriction.isSubmitted)"
  
                 class="form-input-error">
        You must be over 18 years old
      </mat-error>
    </div>
  </div>
  <div class="buttons">
    <div>
      <button mat-raised-button
              color="primary"
              [disabled]="!canSubmit()"
      >
        Get Promo Code
      </button>
      <button mat-raised-button
              type="button"
              [disabled]="!canReset()"
              (click)="clear()">
        Reset
      </button>
    </div>
  </div>
  <br />
  <div >
    <p class='form-status'>{{ statusText }}</p>
  </div>
</form>
